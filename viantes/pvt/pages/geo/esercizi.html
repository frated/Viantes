	
	//**********************************************************
	// FUNZIONI DA CANCELLARE 
	//**********************************************************
	var customIcons = {
		restaurant: {
			icon: 'http://labs.google.com/ridefinder/images/mm_20_blue.png',
			shadow: 'http://labs.google.com/ridefinder/images/mm_20_shadow.png'
		},
		bar: {
			icon: 'http://labs.google.com/ridefinder/images/mm_20_red.png',
			shadow: 'http://labs.google.com/ridefinder/images/mm_20_shadow.png'
		},
		poi: {
			icon: 'http://labs.google.com/ridefinder/images/mm_20_orange.png',
			shadow: 'http://labs.google.com/ridefinder/images/mm_20_shadow.png'
		}
    };
	
	var marker;
	
	function daCancellare() {
		var infoWindow = new google.maps.InfoWindow;
		// Change this depending on the name of your PHP file
		//downloadUrl("http://localhost/viantes/pub/pages/map/a.php", function(data) {
			//var xml = data.responseXML;
			//var markers = xml.documentElement.getElementsByTagName("marker");
			//for (var i = 0; i < markers.length; i++) {
				//var name = markers[i].getAttribute("name");
				
				//var address = markers[i].getAttribute("address");
				
				var type = 'poi'; //markers[i].getAttribute("type");
				
				var point = new google.maps.LatLng(lat, lng);
				
				var html = "<b> Mio nome </b> <br/> indirizzo";
				
				var icon = customIcons[type] || {};
				
				//Aggiunge il marker alla mappa (in un dato punto e con una data icona)
				/*
				var marker = new google.maps.Marker({
					map: map,
					position: point,
					icon: icon.icon,
					shadow: icon.shadow
				});*/
				
				//Aggiunge un listener sull'evento di click del marker
				//Questo listener setta l'html da mostrare  e lo apre
				/*
				marker.addListener('click', function() {
					infoWindow.setContent(html);
					infoWindow.open(map, marker);
				});*/
				//Altro modo equivalente a quello precedente
				//bindInfoWindow(marker, map, infoWindow, html);
				
				//doDetailByPlaceId(map, $('#placeId').val());
				//doDetailByPlaceId(map, 'ChIJWxL4XaeR1RIRHfDooFTWA7M');
				//doDetailByPlaceId(map, 'ChIJWZsUt2FgLxMRg1KHzXfwS3I');
				
				/*
				map.addListener('click', function(e) {
					//cancello il vecchio marker se presente
					if ( marker != null &&  marker != undefined &&  marker != 'undefined')
						marker.setMap(null);
					
					var lat = e.latLng.lat(); //latitudine
					var lng = e.latLng.lng(); //longitudine
					marker = new google.maps.Marker({
						position: e.latLng,
						map: map,
					});
					
					getReverseGeocodingData(lat, lng);
				});
				
				*/
				
			//}
		//});
		
		
		//CASO 1 - Ottengo altre info con il servizio di GeoReverse (solo la via)
		//NB richiede di includere lo Script di REVERSE GEOCODE
		/*
		var geocoder = new google.maps.Geocoder();
		var latlng = new google.maps.LatLng(lat, lng);
		geocoder.geocode({ 'latLng': latlng }, function (results, status) {
			//Se trovo il punto con la 
			if (status == google.maps.GeocoderStatus.OK) {
			
				var addressComponents = results[0].address_components;
				
				//Ciclo l'attributo address_components (che e' un array)
				$.each(addressComponents, function (i, address_component) {
					if (address_component.types[0] == "route")
						$('#route').val(address_component.long_name);
				});
			}
		});
		*/
		
		
		//CASO 2 - Ottengo altre info con il servizio PlacesService (tutte tranne la via)
		/*
		var service = new google.maps.places.PlacesService(map);
		service.getDetails({ placeId: placeId}, function(place, status) {
			if (status === google.maps.places.PlacesServiceStatus.OK) {
				//Creo un marker
				var marker = new google.maps.Marker({
					map: map,
					position: place.geometry.location
				});
				//gli aggiungo un listener
				google.maps.event.addListener(marker, 'click', function() {
					infoWindow.setContent('<div><strong>' + place.name + '</strong><br>' +
					'Place ID: ' + place.place_id + '<br>' +
					place.formatted_address + '</div>');
					infoWindow.open(map, this);
				});
				//Changes the center of the map to the given LatLng
				map.panTo(place.geometry.location);
				
				var addressComponents = place.address_components;
				
				//Ciclo l'attributo address_components (che e' un array)
				$.each(addressComponents, function (i, address_component) {
					
					if (address_component.types[0] == "postal_code")
						$('#pstCd').val(address_component.long_name);
					if (address_component.types[0] == "locality")
						$('#lclty').val(address_component.long_name);
					if (address_component.types[0] == "administrative_area_level_3")
						$('#adminAreaLev3').val(address_component.long_name);
					if (address_component.types[0] == "administrative_area_level_2")
						$('#adminAreaLev2').val(address_component.long_name);
					if (address_component.types[0] == "administrative_area_level_1")
						$('#adminAreaLev1').val(address_component.long_name);
					if (address_component.types[0] == "country")
						$('#cntry').val(address_component.long_name);
					
				});
				
				//console.log(place.address_components);
			}
		});*/
	}

	/*
	function bindInfoWindow(marker, map, infoWindow, html) {
		google.maps.event.addListener(marker, 'click', function() {
			infoWindow.setContent(html);
			infoWindow.open(map, marker);
		});
    }*/
	
	/* Esegue una chiamata ad una data @url  ed invoca una funzione
	 * passando due parametri: la @request e lo @stato della request
	 * Usalo cosi':
	 *	downloadUrl(url, function(data ,responseCode ) {
	 *		if (responseCode == 200) {
	 *			var xml = data.responseXML;
	 * 			var txt = ml = data.responseText;
	 */
    function downloadUrl(url, callback) {
		var request = window.ActiveXObject ?
			new ActiveXObject('Microsoft.XMLHTTP') :
			new XMLHttpRequest;
		request.onreadystatechange = function() {
			if (request.readyState == 4) {
				request.onreadystatechange = doNothing;
				callback(request, request.status);
			}
		};
		request.open('GET', url, true);
		request.send(null);
    }
	
	function doNothing() {}
	
	
	